---
interface Props {
  bars: { value: number; color?: string }[];
}
const { bars } = Astro.props;

const maxValue = Math.max(...bars.map((bar) => bar.value));
---

<div class="h-full w-full flex flex-row justify-end items-center">
  {
    bars.map(({ value, color }) => {
      return (
        <div class="h-full w-full flex flex-col justify-end">
          <div
            class="w-full relative flex flex-col items-center"
            style={
              "height: " +
              (value / maxValue) * 100 +
              "%; " +
              "background-color: " +
              (color ?? "#E21617")
            }
          >
            <p class="absolute -top-5 text-sm italic font-thin">{value}</p>
          </div>
        </div>
      );
    })
  }
</div>
